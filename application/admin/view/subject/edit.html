<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>题库管理系统 | 添加科目</title>
        {include file="header"/}
        <link href="__ROOT__/static/css/bootstrapValidator.min.css" rel="stylesheet" type="text/css" />
    </head>
    <body class="skin-blue">
        <!-- header logo: style can be found in header.less -->
        {include file="nav"/}
        <div class="wrapper row-offcanvas row-offcanvas-left">
            <!-- Left side column. contains the logo and sidebar -->
            {include file="menu"/}
            <!-- Right side column. Contains the navbar and content of the page -->
            <aside class="right-side">
                <!-- Content Header (Page header) -->
                <section class="content-header">
                    <h1>
                        科目管理
                        <small>添加科目</small>
                    </h1>
                    <ol class="breadcrumb">
                        <li><a href="#"><i class="fa fa-dashboard"></i> 首页</a></li>
                        <li><a href="#">科目</a></li>
                        <li class="active">添加科目</li>
                    </ol>
                </section>

                <!-- Main content -->
                <section class="content">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="box box-danger">
                                <div class="box-header">
                                    <h3 class="box-title"></h3>
                                </div>
                                <div class="box-body">
                                    <form method="POST" name="form" id="form" action="{:url('admin/subject/update')}">
                                        <div class="form-group">
                                            <label>科目名称(必填)</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control" name="subject_name" value="{$subject.subject_name}"/>
                                            </div><!-- /.input group -->
                                        </div><!-- /.form group -->
                                        <div class="form-group">
                                            <label>上级科目(必填)</label>
                                            <div class="input-group">
                                                <select class="form-control" name="subject_pid">
                                                    <option value="-1">顶级科目</option>
                                                    {volist name="subs" id="vo"}
                                                    <option value="{$vo.subject_id}" {if condition="($vo.subject_id == $subject.subject_pid)"}selected="selected"{/if}>{$vo.html}{$vo.subject_name}</option>
                                                    {/volist}
                                                </select>
                                            </div><!-- /.input group -->
                                        </div><!-- /.form group -->
                                        <div class="form-group">
                                            <label>科目描述(选填)</label>
                                            <div class="input-group">
                                                <textarea class="form-control" rows="3" placeholder="输入科目描述 ..." name="subject_description">{$subject.subject_description}</textarea>
                                            </div><!-- /.input group -->
                                        </div><!-- /.form group -->

                                        <div class="form-group">
                                            <label>是否显示</label>
                                            <div class="input-group">
                                                <input type="radio" name="display" checked="checked">是
                                                <input type="radio" name="display">否
                                            </div>
                                        </div>
                                        <input type="hidden" name="subject_id" value="{$subject.subject_id}">
                                        <input type="submit" class="btn btn-flat btn-primary" value="保存">
                                    </form>
                                </div><!-- /.box-body -->
                            </div><!-- /.box -->
                        </div><!-- /.col (left) -->
                    </div><!-- /.row -->                    
                </section><!-- /.content -->
            </aside><!-- /.right-side -->
        </div><!-- ./wrapper -->
        {include file="footer"/}
        <script src="__ROOT__/static/js/bootstrapValidator.min.js" type="text/javascript"></script>
        <script>
            $(document).ready(function() {
                $('#form').bootstrapValidator({
                    fields: {
                        subject_name: {
                            validators: {
                                notEmpty: {
                                    message: '科目名称不能为空'
                                },
                                stringLength: {
                                    min: 0,
                                    max: 255,
                                    message: '科目名称过长'
                                }
                            }
                        },
                    	subject_description: {
                            validators: {
                                stringLength: {
                                    min: 0,
                                    max: 255,
                                    message: '描述文字过长'
                                }
                            }
                        }
                    }
                });
            });
        </script>
    </body>
</html>